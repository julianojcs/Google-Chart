<!DOCTYPE html>
<html>

<head>
    <title>Pie Chart - User Input</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
        #piechart {
            height: 600px;
        }

        label {
            display: inline-block;
            width: 100px;
        }
        
    </style>
</head>

<body>
    <p>How many hours do you spend per week?</p>
    <div class="">
        <form id="form1" onsubmit="drawChart(); return false">
            <div class="item"><label for="workvar">Working: </label><input type="number" min="0" max="24" value="0" id="workvar"></div>
            <div class="item"><label for="eatvar">Eating: </label><input type="number" min="0" max="24" value="0" id="eatvar"></div>
            <div class="item"><label for="commutevar">Commuting: </label><input type="number" min="0" max="24" value="0" id="commutevar"></div>
            <div class="item"><label for="tvvar">Watching tv: </label><input type="number" min="0" max="24" value="0" id="tvvar"></div>
            <div class="item"><label for="sleepvar">Sleeping: </label><input type="number" min="0" max="24" value="0" id="sleepvar"></div>
            <div class="item"><label for="othervar">Other: </label><input type="number" min="0" max="24" value="0" id="othervar"></div>
            <button type="submit" value="Submit">Submit</button>
        </form>
    </div>
    <div id="piechart"></div>
    <script>
        //define the chart package
        google.charts.load('current', {
            'packages': ['corechart']
        });
        //set what is supposed to happen when the page loads. You typically want a state of the chart to show on load, but in this case, there is no data on load.
        //google.charts.setOnLoadCallback(drawChart);

        //submit requires text inputs to use parseInt to work as numbers
        function drawChart() {
            work = parseInt(document.getElementById('workvar').value);
            eat = parseInt(document.getElementById('eatvar').value);
            commute = parseInt(document.getElementById('commutevar').value);
            tv = parseInt(document.getElementById('tvvar').value);
            sleep = parseInt(document.getElementById('sleepvar').value);
            other = parseInt(document.getElementById('othervar').value);

            //replace data with variable names
            var data = google.visualization.arrayToDataTable([
                ['Task', 'Hours per Week'],
                ['Work', work],
                ['Eat', eat],
                ['Commute', commute],
                ['Watch TV', tv],
                ['Sleep', sleep],
                ['Other', other]
            ]);
            var options = {
                title: 'Weekly Activities'
            };
            //the id is the DOM location to draw the chart    
            var chart = new google.visualization.PieChart(document.getElementById('piechart'));
            chart.draw(data, options);
        }
    </script>
</body>

</html>